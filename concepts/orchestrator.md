---
description: 'Ask us anything about orchestrator, the shiny new kid on the block'
---

# Orchestrator

## What is this orchestrator?

**sfpowerscripts:orchestrator**  is a group of commands \(or topic in the CLI parlance\) that enables one to work with multiple packages in a mono-repo through the development lifecycle or stages. The current version of the orchestrator features these commands

![Snapshot for orchestrator](../.gitbook/assets/image%20%287%29.png)

## When should I use orchestrator?

You should use the orchestrator when you have two or more packages \( source/unlocked/data\) and mono-repo is your preferred approach.

## Hmm, these orchestrator is a pretty powerful one line commands, will I lose my flexibility in the pipeline?

No, orchestrator is built around our experience when dealing with a very large org with multiple packages.  We have added lot of  "**modifiers**" that can be added as  to each individual package which can be used to control the  test/build/deploy behavior of a package declaratively.   If these options are not sufficient, we are happy to help by adding additional options or you could script yourselves using the standalone sfpowerscripts commands

```text
  {
    "type":"data" //Mention the type of package, only to be used for source and data packages
    "aliasfy": <boolean>, // Only for source packages, allows to deploy a subfolder whose name matches the alias of the org when using deploy command
    "skipDeployOnOrgs": ["org1","org2"], // List of org's that this package should be skipped during deployment
    "isOptimizedDeployment": <boolean>  // default:true for source packages, Utilizes the apex classes in the package for deployment,
    "skipTesting":<boolean> //default:false, skip apex testing installation of source package
    "skipCoverageValidation":<boolean> //default:false, skip apex coverage validation during validation phase,
    "destructiveChangePath:<path> // only for source, if enabled, this will be applied before the package is deployed
    "assignPermSetsPreDeployment: ["","",]
    "assignPermSetsPostDeployment: ["","",]
    "preDeploymentScript":<path> //All Packages
    "postDeploymentScript:<path> // All packages
    "reconcileProfiles:<boolean> //default:true Source Packages
    "ignoreOnStage": [ //Skip this package during the below orchestrator commands
         "prepare",
          "validate"
        ] 
  }
```



## Can I combine orchestrator with standalone install commands.. such as build from orchestrator and script out install package commands?

Excluding **prepare** and **validate**, the other orchestrator commands such as **quickbuild, build** and **deploy** operate on a given artifact directory \(that contains sfpowerscripts artifacts\) and a sfdx-project.json 

## Is there a lifecycle diagram that I can follow to understand how to model the process using the orchestrator?

TBD

## What is the difference between quickbuild and build?

During **quickbuild**, we build unlocked packages without triggering dependency validation or code coverage check. however **build** commands generate fully validated packages that can be deployed to production. Packages generated by **quickbuild** cannot be deployed to production.

## When I am preparing a pool of scratch org\(s\), what type of packages should I be deploying to it?

We usually recommend you install your latest validated packages \( generated by the **build** command \) deployed as source packages \( we utilize the source carried along with our unlocked package artifact, to convert it as a source package\).  This ensures your scratch org is running the latest version of technicall validated code.

## Can I ignore any package during any stage/lifecycle/command? For eg: I do not want this package to be processed by the prepare command 

Yes, you could use the `ignoreOnStage` descriptor to mark which packages should be skipped by the lifecycle commands.







